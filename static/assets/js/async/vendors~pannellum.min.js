(window.webpackJsonpUnic=window.webpackJsonpUnic||[]).push([["vendors~pannellum"],{"./node_modules/pannellum/build/pannellum.js":function(e,t){window.libpannellum=function(e,t,o){function n(n){function h(e,t){return 1==e.level&&1!=t.level?-1:1==t.level&&1!=e.level?1:t.timestamp-e.timestamp}function c(e,t){return e.level!=t.level?e.level-t.level:e.diff-t.diff}function u(e,t,o,n,a,i){this.vertices=e,this.side=t,this.level=o,this.x=n,this.y=a,this.path=i.replace("%s",t).replace("%l",o).replace("%x",n).replace("%y",a)}function d(e,t,o,n,a){var i;i=v(e,(l=t.vertices).slice(0,3));var r=v(e,l.slice(3,6)),s=v(e,l.slice(6,9)),l=v(e,l.slice(9,12)),h=i[0]+r[0]+s[0]+l[0];if(-4==h||4==h?i=!1:i=-4!=(h=i[1]+r[1]+s[1]+l[1])&&4!=h&&4!=i[2]+r[2]+s[2]+l[2],i){for(r=(i=t.vertices)[0]+i[3]+i[6]+i[9],s=i[1]+i[4]+i[7]+i[10],l=i[2]+i[5]+i[8]+i[11],h=Math.sqrt(r*r+s*s+l*l),l=Math.asin(l/h),r=Math.atan2(s,r)-n,r+=r>Math.PI?-2*Math.PI:r<-Math.PI?2*Math.PI:0,r=Math.abs(r),t.diff=Math.acos(Math.sin(o)*Math.sin(l)+Math.cos(o)*Math.cos(l)*Math.cos(r)),r=!1,s=0;s<w.nodeCache.length;s++)if(w.nodeCache[s].path==t.path){r=!0,w.nodeCache[s].timestamp=w.nodeCacheTimestamp++,w.nodeCache[s].diff=t.diff,w.currentNodes.push(w.nodeCache[s]);break}if(r||(t.timestamp=w.nodeCacheTimestamp++,w.currentNodes.push(t),w.nodeCache.push(t)),t.level<w.level){l=_.cubeResolution*Math.pow(2,t.level-_.maxLevel),r=Math.ceil(l*_.invTileResolution)-1,s=l%_.tileResolution*2;var c=2*l%_.tileResolution;0===c&&(c=_.tileResolution),0===s&&(s=2*_.tileResolution),h=.5,t.x!=r&&t.y!=r||(h=1-_.tileResolution/(_.tileResolution+c));var f=1-h,m=(l=[],h),p=h,g=h,y=f,b=f,x=f;for(c<_.tileResolution&&(t.x==r&&t.y!=r?(b=p=.5,("d"==t.side||"u"==t.side)&&(x=g=.5)):t.x!=r&&t.y==r&&(y=m=.5,"l"==t.side||"r"==t.side)&&(x=g=.5)),s<=_.tileResolution&&(t.x==r&&(m=0,y=1,"l"==t.side||"r"==t.side)&&(g=0,x=1),t.y==r&&(p=0,b=1,"d"==t.side||"u"==t.side)&&(g=0,x=1)),c=new u(c=[i[0],i[1],i[2],i[0]*m+i[3]*y,i[1]*h+i[4]*f,i[2]*g+i[5]*x,i[0]*m+i[6]*y,i[1]*p+i[7]*b,i[2]*g+i[8]*x,i[0]*h+i[9]*f,i[1]*p+i[10]*b,i[2]*g+i[11]*x],t.side,t.level+1,2*t.x,2*t.y,_.fullpath),l.push(c),t.x==r&&s<=_.tileResolution||(c=new u(c=[i[0]*m+i[3]*y,i[1]*h+i[4]*f,i[2]*g+i[5]*x,i[3],i[4],i[5],i[3]*h+i[6]*f,i[4]*p+i[7]*b,i[5]*g+i[8]*x,i[0]*m+i[6]*y,i[1]*p+i[7]*b,i[2]*g+i[8]*x],t.side,t.level+1,2*t.x+1,2*t.y,_.fullpath),l.push(c)),t.x==r&&s<=_.tileResolution||t.y==r&&s<=_.tileResolution||(c=new u(c=[i[0]*m+i[6]*y,i[1]*p+i[7]*b,i[2]*g+i[8]*x,i[3]*h+i[6]*f,i[4]*p+i[7]*b,i[5]*g+i[8]*x,i[6],i[7],i[8],i[9]*m+i[6]*y,i[10]*h+i[7]*f,i[11]*g+i[8]*x],t.side,t.level+1,2*t.x+1,2*t.y+1,_.fullpath),l.push(c)),t.y==r&&s<=_.tileResolution||(c=new u(c=[i[0]*h+i[9]*f,i[1]*p+i[10]*b,i[2]*g+i[11]*x,i[0]*m+i[6]*y,i[1]*p+i[7]*b,i[2]*g+i[8]*x,i[9]*m+i[6]*y,i[10]*h+i[7]*f,i[11]*g+i[8]*x,i[9],i[10],i[11]],t.side,t.level+1,2*t.x,2*t.y+1,_.fullpath),l.push(c)),t=0;t<l.length;t++)d(e,l[t],o,n,a)}}}function f(e,t,o){var n=Math.sin(t);return t=Math.cos(t),"x"==o?[e[0],t*e[1]+n*e[2],t*e[2]-n*e[1],e[3],t*e[4]+n*e[5],t*e[5]-n*e[4],e[6],t*e[7]+n*e[8],t*e[8]-n*e[7]]:"y"==o?[t*e[0]-n*e[2],e[1],t*e[2]+n*e[0],t*e[3]-n*e[5],e[4],t*e[5]+n*e[3],t*e[6]-n*e[8],e[7],t*e[8]+n*e[6]]:"z"==o?[t*e[0]+n*e[1],t*e[1]-n*e[0],e[2],t*e[3]+n*e[4],t*e[4]-n*e[3],e[5],t*e[6]+n*e[7],t*e[7]-n*e[6],e[8]]:void 0}function m(e){return[e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]]}function p(e){e.textureLoad||(e.textureLoad=!0,N(encodeURI(e.path+"."+_.extension),function(t){e.texture=t,e.textureLoaded=!0},S.crossOrigin))}function v(e,t){var o=(a=[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[4]*t[0]+e[5]*t[1]+e[6]*t[2],e[11]+e[8]*t[0]+e[9]*t[1]+e[10]*t[2],1/(e[12]*t[0]+e[13]*t[1]+e[14]*t[2])])[0]*a[3],n=a[1]*a[3],a=a[2]*a[3],i=[0,0,0];return-1>o&&(i[0]=-1),1<o&&(i[0]=1),-1>n&&(i[1]=-1),1<n&&(i[1]=1),(-1>a||1<a)&&(i[2]=1),i}function g(){console.log("Reducing canvas size due to error 1286!"),D.width=Math.round(D.width/2),D.height=Math.round(D.height/2)}var w,y,b,x,E,M,P,R,_,T,L,C,I,A,k,S,D=t.createElement("canvas");D.style.width=D.style.height="100%",n.appendChild(D),this.init=function(e,h,c,u,d,f,m,p){if(h===o&&(h="equirectangular"),"equirectangular"!=h&&"cubemap"!=h&&"multires"!=h)throw console.log("Error: invalid image type specified!"),{type:"config error"};if(T=h,_=e,L=c,S=p||{},w){if(b&&(y.detachShader(w,b),y.deleteShader(b)),x&&(y.detachShader(w,x),y.deleteShader(x)),y.bindBuffer(y.ARRAY_BUFFER,null),y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,null),w.texture&&y.deleteTexture(w.texture),w.nodeCache)for(e=0;e<w.nodeCache.length;e++)y.deleteTexture(w.nodeCache[e].texture);y.deleteProgram(w),w=o}if(R=o,"cubemap"==T&&0!=(_[0].width&_[0].width-1)&&(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 9_/)||navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 10_/)||navigator.userAgent.match(/Trident.*rv[ :]*11\./))||(y||(y=D.getContext("experimental-webgl",{alpha:!1,depth:!1})),y&&1286==y.getError()&&g()),!y&&("multires"==T&&_.hasOwnProperty("fallbackPath")||"cubemap"==T)&&("WebkitAppearance"in t.documentElement.style||navigator.userAgent.match(/Trident.*rv[ :]*11\./)||-1!==navigator.appVersion.indexOf("MSIE 10"))){M&&n.removeChild(M),(M=t.createElement("div")).className="pnlm-world",u=_.basePath?_.basePath+_.fallbackPath:_.fallbackPath;var v="frblud".split(""),N=0;for(d=function(){var e=t.createElement("canvas");e.className="pnlm-face pnlm-"+v[this.side]+"face",M.appendChild(e);var o=e.getContext("2d");e.style.width=this.width+4+"px",e.style.height=this.height+4+"px",e.width=this.width+4,e.height=this.height+4,o.drawImage(this,2,2);var a,i,r=o.getImageData(0,0,e.width,e.height),s=r.data;for(a=2;a<e.width-2;a++)for(i=0;4>i;i++)s[4*(a+e.width)+i]=s[4*(a+2*e.width)+i],s[4*(a+e.width*(e.height-2))+i]=s[4*(a+e.width*(e.height-3))+i];for(a=2;a<e.height-2;a++)for(i=0;4>i;i++)s[4*(a*e.width+1)+i]=s[4*(a*e.width+2)+i],s[4*((a+1)*e.width-2)+i]=s[4*((a+1)*e.width-3)+i];for(i=0;4>i;i++)s[4*(e.width+1)+i]=s[4*(2*e.width+2)+i],s[4*(2*e.width-2)+i]=s[4*(3*e.width-3)+i],s[4*(e.width*(e.height-2)+1)+i]=s[4*(e.width*(e.height-3)+2)+i],s[4*(e.width*(e.height-1)-2)+i]=s[4*(e.width*(e.height-2)-3)+i];for(a=1;a<e.width-1;a++)for(i=0;4>i;i++)s[4*a+i]=s[4*(a+e.width)+i],s[4*(a+e.width*(e.height-1))+i]=s[4*(a+e.width*(e.height-2))+i];for(a=1;a<e.height-1;a++)for(i=0;4>i;i++)s[a*e.width*4+i]=s[4*(a*e.width+1)+i],s[4*((a+1)*e.width-1)+i]=s[4*((a+1)*e.width-2)+i];for(i=0;4>i;i++)s[i]=s[4*(e.width+1)+i],s[4*(e.width-1)+i]=s[4*(2*e.width-2)+i],s[e.width*(e.height-1)*4+i]=s[4*(e.width*(e.height-2)+1)+i],s[4*(e.width*e.height-1)+i]=s[4*(e.width*(e.height-1)-2)+i];o.putImageData(r,0,0),6==++N&&(E=this.width,n.appendChild(M),m())},e=0;6>e;e++)(f=new Image).crossOrigin=S.crossOrigin?S.crossOrigin:"anonymous",f.side=e,f.onload=d,f.src="multires"==T?encodeURI(u.replace("%s",v[e])+"."+_.extension):encodeURI(_[e].src)}else{if(!y)throw console.log("Error: no WebGL support detected!"),{type:"no webgl"};for(_.fullpath=_.basePath?_.basePath+_.path:_.path,_.invTileResolution=1/_.tileResolution,h=[-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1],P=[],e=0;6>e;e++)P[e]=h.slice(12*e,12*e+12),h=[-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,-1,1,1,1,-1,1,1,1,1,-1,1,1,-1,-1];if("equirectangular"==T){if((e=Math.max(_.width,_.height))>(h=y.getParameter(y.MAX_TEXTURE_SIZE)))throw console.log("Error: The image is too big; it's "+e+"px wide, but this device's maximum supported width is "+h+"px."),{type:"webgl size error",width:e,maxWidth:h}}else if("cubemap"==T&&(e=_[0].width)>(h=y.getParameter(y.MAX_CUBE_MAP_TEXTURE_SIZE)))throw console.log("Error: The cube face image is too big; it's "+e+"px wide, but this device's maximum supported width is "+h+"px."),{type:"webgl size error",width:e,maxWidth:h};if(p===o||p.horizonPitch===o&&p.horizonRoll===o||(R=[p.horizonPitch==o?0:p.horizonPitch,p.horizonRoll==o?0:p.horizonRoll]),e=y.TEXTURE_2D,y.viewport(0,0,y.drawingBufferWidth,y.drawingBufferHeight),b=y.createShader(y.VERTEX_SHADER),h=a,"multires"==T&&(h=i),y.shaderSource(b,h),y.compileShader(b),x=y.createShader(y.FRAGMENT_SHADER),h=s,"cubemap"==T?(e=y.TEXTURE_CUBE_MAP,h=r):"multires"==T&&(h=l),y.shaderSource(x,h),y.compileShader(x),w=y.createProgram(),y.attachShader(w,b),y.attachShader(w,x),y.linkProgram(w),y.getShaderParameter(b,y.COMPILE_STATUS)||console.log(y.getShaderInfoLog(b)),y.getShaderParameter(x,y.COMPILE_STATUS)||console.log(y.getShaderInfoLog(x)),y.getProgramParameter(w,y.LINK_STATUS)||console.log(y.getProgramInfoLog(w)),y.useProgram(w),w.drawInProgress=!1,w.texCoordLocation=y.getAttribLocation(w,"a_texCoord"),y.enableVertexAttribArray(w.texCoordLocation),"multires"!=T?(C||(C=y.createBuffer()),y.bindBuffer(y.ARRAY_BUFFER,C),y.bufferData(y.ARRAY_BUFFER,new Float32Array([-1,1,1,1,1,-1,-1,1,1,-1,-1,-1]),y.STATIC_DRAW),y.vertexAttribPointer(w.texCoordLocation,2,y.FLOAT,!1,0,0),w.aspectRatio=y.getUniformLocation(w,"u_aspectRatio"),y.uniform1f(w.aspectRatio,y.drawingBufferWidth/y.drawingBufferHeight),w.psi=y.getUniformLocation(w,"u_psi"),w.theta=y.getUniformLocation(w,"u_theta"),w.f=y.getUniformLocation(w,"u_f"),w.h=y.getUniformLocation(w,"u_h"),w.v=y.getUniformLocation(w,"u_v"),w.vo=y.getUniformLocation(w,"u_vo"),w.rot=y.getUniformLocation(w,"u_rot"),y.uniform1f(w.h,u/(2*Math.PI)),y.uniform1f(w.v,d/Math.PI),y.uniform1f(w.vo,f/Math.PI*2),"equirectangular"==T&&(w.backgroundColor=y.getUniformLocation(w,"u_backgroundColor"),y.uniform4fv(w.backgroundColor,(p.backgroundColor?p.backgroundColor:[0,0,0]).concat([1]))),w.texture=y.createTexture(),y.bindTexture(e,w.texture),"cubemap"==T?(y.texImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_X,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,_[1]),y.texImage2D(y.TEXTURE_CUBE_MAP_NEGATIVE_X,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,_[3]),y.texImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_Y,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,_[4]),y.texImage2D(y.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,_[5]),y.texImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_Z,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,_[0]),y.texImage2D(y.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,_[2])):y.texImage2D(e,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,_),y.texParameteri(e,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE),y.texParameteri(e,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE),y.texParameteri(e,y.TEXTURE_MIN_FILTER,y.LINEAR),y.texParameteri(e,y.TEXTURE_MAG_FILTER,y.LINEAR)):(w.vertPosLocation=y.getAttribLocation(w,"a_vertCoord"),y.enableVertexAttribArray(w.vertPosLocation),I||(I=y.createBuffer()),A||(A=y.createBuffer()),k||(k=y.createBuffer()),y.bindBuffer(y.ARRAY_BUFFER,A),y.bufferData(y.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),y.STATIC_DRAW),y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,k),y.bufferData(y.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),y.STATIC_DRAW),w.perspUniform=y.getUniformLocation(w,"u_perspMatrix"),w.cubeUniform=y.getUniformLocation(w,"u_cubeMatrix"),w.level=-1,w.currentNodes=[],w.nodeCache=[],w.nodeCacheTimestamp=0),0!==(u=y.getError()))throw console.log("Error: Something went wrong with WebGL!",u),{type:"webgl error"};m()}},this.destroy=function(){if(n!==o&&(D!==o&&n.contains(D)&&n.removeChild(D),M!==o&&n.contains(M)&&n.removeChild(M)),y){var e=y.getExtension("WEBGL_lose_context");e&&e.loseContext()}},this.resize=function(){var t=e.devicePixelRatio||1;D.width=D.clientWidth*t,D.height=D.clientHeight*t,y&&(1286==y.getError()&&g(),y.viewport(0,0,y.drawingBufferWidth,y.drawingBufferHeight),"multires"!=T&&y.uniform1f(w.aspectRatio,D.clientWidth/D.clientHeight))},this.resize(),this.setPose=function(e,t){R=[e,t]},this.render=function(e,t,n,a){var i;if(i=0,a===o&&(a={}),a.roll&&(i=a.roll),R!==o){var r=R[0],s=R[1],l=e,v=t,g=Math.cos(s)*Math.sin(e)*Math.sin(r)+Math.cos(e)*(Math.cos(r)*Math.cos(t)+Math.sin(s)*Math.sin(r)*Math.sin(t)),b=-Math.sin(e)*Math.sin(s)+Math.cos(e)*Math.cos(s)*Math.sin(t);e=Math.cos(s)*Math.cos(r)*Math.sin(e)+Math.cos(e)*(-Math.cos(t)*Math.sin(r)+Math.cos(r)*Math.sin(s)*Math.sin(t)),e=Math.asin(Math.max(Math.min(e,1),-1)),t=Math.atan2(b,g),r=[Math.cos(l)*(Math.sin(s)*Math.sin(r)*Math.cos(v)-Math.cos(r)*Math.sin(v)),Math.cos(l)*Math.cos(s)*Math.cos(v),Math.cos(l)*(Math.cos(r)*Math.sin(s)*Math.cos(v)+Math.sin(v)*Math.sin(r))],s=[-Math.cos(e)*Math.sin(t),Math.cos(e)*Math.cos(t)],s=Math.acos(Math.max(Math.min((r[0]*s[0]+r[1]*s[1])/(Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2])*Math.sqrt(s[0]*s[0]+s[1]*s[1])),1),-1)),0>r[2]&&(s=2*Math.PI-s),i+=s}if(y||"multires"!=T&&"cubemap"!=T){if("multires"!=T)n=2*Math.atan(Math.tan(.5*n)/(y.drawingBufferWidth/y.drawingBufferHeight)),n=1/Math.tan(.5*n),y.uniform1f(w.psi,t),y.uniform1f(w.theta,e),y.uniform1f(w.rot,i),y.uniform1f(w.f,n),!0===L&&"equirectangular"==T&&(y.bindTexture(y.TEXTURE_2D,w.texture),y.texImage2D(y.TEXTURE_2D,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,_)),y.drawArrays(y.TRIANGLES,0,6);else{for(r=y.drawingBufferWidth/y.drawingBufferHeight,s=2*Math.atan(Math.tan(n/2)*y.drawingBufferHeight/y.drawingBufferWidth),r=[(s=1/Math.tan(s/2))/r,0,0,0,0,s,0,0,0,0,100.1/-99.9,20/-99.9,0,0,-1,0],s=1;s<_.maxLevel&&y.drawingBufferWidth>_.tileResolution*Math.pow(2,s-1)*Math.tan(n/2)*.707;)s++;if(w.level=s,s=[(s=f(s=f(s=f(s=[1,0,0,0,1,0,0,0,1],-i,"z"),-e,"x"),t,"y"))[0],s[1],s[2],0,s[3],s[4],s[5],0,s[6],s[7],s[8],0,0,0,0,1],y.uniformMatrix4fv(w.perspUniform,!1,new Float32Array(m(r))),y.uniformMatrix4fv(w.cubeUniform,!1,new Float32Array(m(s))),r=[r[0]*s[0],r[0]*s[1],r[0]*s[2],0,r[5]*s[4],r[5]*s[5],r[5]*s[6],0,r[10]*s[8],r[10]*s[9],r[10]*s[10],r[11],-s[8],-s[9],-s[10],0],w.nodeCache.sort(h),200<w.nodeCache.length&&w.nodeCache.length>w.currentNodes.length+50)for(s=w.nodeCache.splice(200,w.nodeCache.length-200),i=0;i<s.length;i++)y.deleteTexture(s[i].texture);for(w.currentNodes=[],s="fbudlr".split(""),i=0;6>i;i++)d(r,l=new u(P[i],s[i],1,0,0,_.fullpath),e,t,n);for(w.currentNodes.sort(c),i=0;i<w.currentNodes.length;i++)if(!w.currentNodes[i].texture){setTimeout(p,0,w.currentNodes[i]);break}if(!w.drawInProgress){for(w.drawInProgress=!0,e=0;e<w.currentNodes.length;e++)w.currentNodes[e].textureLoaded&&(y.bindBuffer(y.ARRAY_BUFFER,I),y.bufferData(y.ARRAY_BUFFER,new Float32Array(w.currentNodes[e].vertices),y.STATIC_DRAW),y.vertexAttribPointer(w.vertPosLocation,3,y.FLOAT,!1,0,0),y.bindBuffer(y.ARRAY_BUFFER,A),y.vertexAttribPointer(w.texCoordLocation,2,y.FLOAT,!1,0,0),y.bindTexture(y.TEXTURE_2D,w.currentNodes[e].texture),y.drawElements(y.TRIANGLES,6,y.UNSIGNED_SHORT,0));w.drawInProgress=!1}}if(a.returnImage!==o)return D.toDataURL("image/png")}else for(a={f:"translate3d(-"+((i=E/2)+2)+"px, -"+(i+2)+"px, -"+i+"px)",b:"translate3d("+(i+2)+"px, -"+(i+2)+"px, "+i+"px) rotateX(180deg) rotateZ(180deg)",u:"translate3d(-"+(i+2)+"px, -"+i+"px, "+(i+2)+"px) rotateX(270deg)",d:"translate3d(-"+(i+2)+"px, "+i+"px, -"+(i+2)+"px) rotateX(90deg)",l:"translate3d(-"+i+"px, -"+(i+2)+"px, "+(i+2)+"px) rotateX(180deg) rotateY(90deg) rotateZ(180deg)",r:"translate3d("+i+"px, -"+(i+2)+"px, -"+(i+2)+"px) rotateY(270deg)"},e="perspective("+(n=(n=1/Math.tan(n/2))*y.drawingBufferWidth/2+"px")+") translateZ("+n+") rotateX("+e+"rad) rotateY("+t+"rad) ",t=Object.keys(a),i=0;6>i;i++)(n=M.querySelector(".pnlm-"+t[i]+"face").style).webkitTransform=e+a[t[i]],n.transform=e+a[t[i]]},this.isLoading=function(){if(y&&"multires"==T)for(var e=0;e<w.currentNodes.length;e++)if(!w.currentNodes[e].textureLoaded)return!0;return!1},this.getCanvas=function(){return D};var N=function(){function e(){var e=this;this.texture=this.callback=null,this.image=new Image,this.image.crossOrigin=t||"anonymous",this.image.addEventListener("load",function(){var t=e.image;y.bindTexture(y.TEXTURE_2D,e.texture),y.texImage2D(y.TEXTURE_2D,0,y.RGB,y.RGB,y.UNSIGNED_BYTE,t),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,y.LINEAR),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,y.LINEAR),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE),y.bindTexture(y.TEXTURE_2D,null),e.callback(e.texture),a.length?(t=a.shift(),e.loadTexture(t.src,t.texture,t.callback)):n[o++]=e})}var t,o=4,n={},a=[];e.prototype.loadTexture=function(e,t,o){this.texture=t,this.callback=o,this.image.src=e};for(var i=0;i<o;i++)n[i]=new e;return function(e,i,r){return t=r,r=y.createTexture(),o?n[--o].loadTexture(e,r,i):a.push(new function(e,t,o){this.src=e,this.texture=t,this.callback=o}(e,r,i)),r}}()}var a="attribute vec2 a_texCoord;varying vec2 v_texCoord;void main() {gl_Position = vec4(a_texCoord, 0.0, 1.0);v_texCoord = a_texCoord;}",i="attribute vec3 a_vertCoord;attribute vec2 a_texCoord;uniform mat4 u_cubeMatrix;uniform mat4 u_perspMatrix;varying mediump vec2 v_texCoord;void main(void) {gl_Position = u_perspMatrix * u_cubeMatrix * vec4(a_vertCoord, 1.0);v_texCoord = a_texCoord;}",r="precision mediump float;\nuniform float u_aspectRatio;\nuniform float u_psi;\nuniform float u_theta;\nuniform float u_f;\nuniform float u_h;\nuniform float u_v;\nuniform float u_vo;\nuniform float u_rot;\nconst float PI = 3.14159265358979323846264;\nuniform sampler2D u_image;\nuniform samplerCube u_imageCube;\nvarying vec2 v_texCoord;\nuniform vec4 u_backgroundColor;\nvoid main() {\nfloat x = v_texCoord.x * u_aspectRatio;\nfloat y = v_texCoord.y;\nfloat sinrot = sin(u_rot);\nfloat cosrot = cos(u_rot);\nfloat rot_x = x * cosrot - y * sinrot;\nfloat rot_y = x * sinrot + y * cosrot;\nfloat sintheta = sin(u_theta);\nfloat costheta = cos(u_theta);\nfloat a = u_f * costheta - rot_y * sintheta;\nfloat root = sqrt(rot_x * rot_x + a * a);\nfloat lambda = atan(rot_x / root, a / root) + u_psi;\nfloat phi = atan((rot_y * costheta + u_f * sintheta) / root);float cosphi = cos(phi);\ngl_FragColor = textureCube(u_imageCube, vec3(cosphi*sin(lambda), sin(phi), cosphi*cos(lambda)));\n}",s="precision mediump float;\nuniform float u_aspectRatio;\nuniform float u_psi;\nuniform float u_theta;\nuniform float u_f;\nuniform float u_h;\nuniform float u_v;\nuniform float u_vo;\nuniform float u_rot;\nconst float PI = 3.14159265358979323846264;\nuniform sampler2D u_image;\nuniform samplerCube u_imageCube;\nvarying vec2 v_texCoord;\nuniform vec4 u_backgroundColor;\nvoid main() {\nfloat x = v_texCoord.x * u_aspectRatio;\nfloat y = v_texCoord.y;\nfloat sinrot = sin(u_rot);\nfloat cosrot = cos(u_rot);\nfloat rot_x = x * cosrot - y * sinrot;\nfloat rot_y = x * sinrot + y * cosrot;\nfloat sintheta = sin(u_theta);\nfloat costheta = cos(u_theta);\nfloat a = u_f * costheta - rot_y * sintheta;\nfloat root = sqrt(rot_x * rot_x + a * a);\nfloat lambda = atan(rot_x / root, a / root) + u_psi;\nfloat phi = atan((rot_y * costheta + u_f * sintheta) / root);lambda = mod(lambda + PI, PI * 2.0) - PI;\nvec2 coord = vec2(lambda / PI, phi / (PI / 2.0));\nif(coord.x < -u_h || coord.x > u_h || coord.y < -u_v + u_vo || coord.y > u_v + u_vo)\ngl_FragColor = u_backgroundColor;\nelse\ngl_FragColor = texture2D(u_image, vec2((coord.x + u_h) / (u_h * 2.0), (-coord.y + u_v + u_vo) / (u_v * 2.0)));\n}",l="varying mediump vec2 v_texCoord;uniform sampler2D u_sampler;void main(void) {gl_FragColor = texture2D(u_sampler, v_texCoord);}";return{renderer:function(e,t,o,a){return new n(e,t,o,a)}}}(window,document),window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}),window.pannellum=function(e,t,o){function n(n,a){function i(){if((c=t.createElement("div")).innerHTML="\x3c!--[if lte IE 9]><i></i><![endif]--\x3e",1==c.getElementsByTagName("i").length)l();else{var n;if(te=j.hfov,oe=j.pitch,"cubemap"==j.type){for(Q=[],c=0;6>c;c++)Q.push(new Image),Q[c].crossOrigin=j.crossOrigin;Ae.load.lbox.style.display="block",Ae.load.lbar.style.display="none"}else if("multires"==j.type)c=JSON.parse(JSON.stringify(j.multiRes)),j.basePath&&j.multiRes.basePath&&!/^(?:[a-z]+:)?\/\//i.test(j.multiRes.basePath)?c.basePath=j.basePath+j.multiRes.basePath:j.multiRes.basePath?c.basePath=j.multiRes.basePath:j.basePath&&(c.basePath=j.basePath),Q=c;else if(!0===j.dynamic)Q=j.panorama;else{if(j.panorama===o)return void l(j.strings.noPanoramaError);Q=new Image}if("cubemap"==j.type)for(var a=6,i=function(){0===--a&&s()},h=function(e){var o=t.createElement("a");o.href=e.target.src,o.innerHTML=o.href,l(j.strings.fileAccessError.replace("%s",o.outerHTML))},c=0;c<Q.length;c++)Q[c].onload=i,Q[c].onerror=h,n=j.cubeMap[c],j.basePath&&!r(n)&&(n=j.basePath+n),Q[c].src=encodeURI(n);else if("multires"==j.type)s();else if(n="",j.basePath&&(n=j.basePath),!0!==j.dynamic){n=r(j.panorama)?j.panorama:n+j.panorama,Q.onload=function(){e.URL.revokeObjectURL(this.src),s()};var u=new XMLHttpRequest;u.onloadend=function(){if(200!=u.status){var a=t.createElement("a");a.href=encodeURI(n),a.innerHTML=a.href,l(j.strings.fileAccessError.replace("%s",a.outerHTML))}!function(t){var n=new FileReader;n.addEventListener("loadend",function(){var a=n.result;if(navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad).* os 8_/)){var i=a.indexOf("ÿÂ");(0>i||65536<i)&&l(j.strings.iOS8WebGLError)}if(-1<(i=a.indexOf("<x:xmpmeta"))&&!0!==j.ignoreGPanoXMP){var r=a.substring(i,a.indexOf("</x:xmpmeta>")+12),s=function(e){var t;return 0<=r.indexOf(e+'="')?t=(t=r.substring(r.indexOf(e+'="')+e.length+2)).substring(0,t.indexOf('"')):0<=r.indexOf(e+">")&&(t=(t=r.substring(r.indexOf(e+">")+e.length+1)).substring(0,t.indexOf("<"))),t!==o?Number(t):null},a=s("GPano:FullPanoWidthPixels"),i=s("GPano:CroppedAreaImageWidthPixels"),h=s("GPano:FullPanoHeightPixels"),c=s("GPano:CroppedAreaImageHeightPixels"),u=s("GPano:CroppedAreaTopPixels"),d=s("GPano:PoseHeadingDegrees"),f=s("GPano:PosePitchDegrees"),s=s("GPano:PoseRollDegrees");null!==a&&null!==i&&null!==h&&null!==c&&null!==u&&(0>Ee.indexOf("haov")&&(j.haov=i/a*360),0>Ee.indexOf("vaov")&&(j.vaov=c/h*180),0>Ee.indexOf("vOffset")&&(j.vOffset=-180*((u+c/2)/h-.5)),null!==d&&0>Ee.indexOf("northOffset")&&(j.northOffset=d,!1!==j.compass&&(j.compass=!0)),null!==f&&null!==s&&(0>Ee.indexOf("horizonPitch")&&(j.horizonPitch=f),0>Ee.indexOf("horizonRoll")&&(j.horizonRoll=s)))}Q.src=e.URL.createObjectURL(t)}),n.readAsBinaryString!==o?n.readAsBinaryString(t):n.readAsText(t)}(this.response),Ae.load.msg.innerHTML=""},u.onprogress=function(e){var t,o;e.lengthComputable?(Ae.load.lbarFill.style.width=e.loaded/e.total*100+"%",1e6<e.total?(t="MB",o=(e.loaded/1e6).toFixed(2),e=(e.total/1e6).toFixed(2)):1e3<e.total?(t="kB",o=(e.loaded/1e3).toFixed(1),e=(e.total/1e3).toFixed(1)):(t="B",o=e.loaded,e=e.total),Ae.load.msg.innerHTML=o+" / "+e+" "+t):(Ae.load.lbox.style.display="block",Ae.load.lbar.style.display="none")};try{u.open("GET",n,!0)}catch(e){l(j.strings.malformedURLError)}u.responseType="blob",u.setRequestHeader("Accept","image/*,*/*;q=0.9"),u.withCredentials="use-credentials"===j.crossOrigin,u.send()}j.draggable&&Te.classList.add("pnlm-grab"),Te.classList.remove("pnlm-grabbing")}}function r(e){return/^(?:[a-z]+:)?\/\//i.test(e)||"/"==e[0]||"blob:"==e.slice(0,5)}function s(){V||(V=new libpannellum.renderer(Le)),me||(me=!0,Ce.addEventListener("mousedown",c,!1),t.addEventListener("mousemove",f,!1),t.addEventListener("mouseup",m,!1),j.mouseZoom&&(Te.addEventListener("mousewheel",x,!1),Te.addEventListener("DOMMouseScroll",x,!1)),j.doubleClickZoom&&Ce.addEventListener("dblclick",u,!1),Te.addEventListener("mozfullscreenchange",F,!1),Te.addEventListener("webkitfullscreenchange",F,!1),Te.addEventListener("msfullscreenchange",F,!1),Te.addEventListener("fullscreenchange",F,!1),e.addEventListener("resize",T,!1),e.addEventListener("orientationchange",T,!1),j.disableKeyboardCtrl||(n.addEventListener("keydown",E,!1),n.addEventListener("keyup",P,!1),n.addEventListener("blur",M,!1)),t.addEventListener("mouseleave",m,!1),""===t.documentElement.style.pointerAction&&""===t.documentElement.style.touchAction?(Ce.addEventListener("pointerdown",w,!1),Ce.addEventListener("pointermove",y,!1),Ce.addEventListener("pointerup",b,!1),Ce.addEventListener("pointerleave",b,!1)):(Ce.addEventListener("touchstart",p,!1),Ce.addEventListener("touchmove",v,!1),Ce.addEventListener("touchend",g,!1)),e.navigator.pointerEnabled&&(n.style.touchAction="none")),function(){try{var e={};j.horizonPitch!==o&&(e.horizonPitch=j.horizonPitch*Math.PI/180),j.horizonRoll!==o&&(e.horizonRoll=j.horizonRoll*Math.PI/180),j.backgroundColor!==o&&(e.backgroundColor=j.backgroundColor),V.init(Q,j.type,j.dynamic,j.haov*Math.PI/180,j.vaov*Math.PI/180,j.vOffset*Math.PI/180,k,e),!0!==j.dynamic&&(Q=o)}catch(e){if("webgl error"==e.type||"no webgl"==e.type)l();else{if("webgl size error"!=e.type)throw l(j.strings.unknownError),e;l(j.strings.textureSizeError.replace("%s",e.width).replace("%s",e.maxWidth))}}}(),setTimeout(function(){},500)}function l(e){e===o&&(e=j.strings.genericWebGLError),Ae.errorMsg.innerHTML="<p>"+e+"</p>",Se.load.style.display="none",Ae.load.box.style.display="none",Ae.errorMsg.style.display="table",fe=!0,Le.style.display="none",Z("error",e)}function h(e){var t=n.getBoundingClientRect(),o={};return o.x=e.clientX-t.left,o.y=e.clientY-t.top,o}function c(e){if(e.preventDefault(),n.focus(),K&&j.draggable){var t=h(e);if(j.hotSpotDebug){var o=d(e);console.log("Pitch: "+o[0]+", Yaw: "+o[1]+", Center Pitch: "+j.pitch+", Center Yaw: "+j.yaw+", HFOV: "+j.hfov)}H(),X(),j.roll=0,pe.hfov=0,ae=!0,ie=Date.now(),re=t.x,se=t.y,he=j.yaw,ce=j.pitch,Te.classList.add("pnlm-grabbing"),Te.classList.remove("pnlm-grab"),Z("mousedown",e),L()}}function u(e){j.minHfov===j.hfov?ne.setHfov(te,1e3):(e=d(e),ne.lookAt(e[0],e[1],j.minHfov,1e3))}function d(e){var t=h(e),o=(e=V.getCanvas()).clientWidth,n=e.clientHeight;e=t.x/o*2-1;n=(1-t.y/n*2)*n/o;var a=1/Math.tan(j.hfov*Math.PI/360),i=Math.sin(j.pitch*Math.PI/180),r=Math.cos(j.pitch*Math.PI/180);t=a*r-n*i,o=Math.sqrt(e*e+t*t),n=180*Math.atan((n*r+a*i)/o)/Math.PI;return-180>(e=180*Math.atan2(e/o,t/o)/Math.PI+j.yaw)&&(e+=360),180<e&&(e-=360),[n,e]}function f(e){if(ae&&K){ie=Date.now();var t=(o=V.getCanvas()).clientWidth,o=o.clientHeight;e=h(e);var n=180*(Math.atan(re/t*2-1)-Math.atan(e.x/t*2-1))/Math.PI*j.hfov/90+he;pe.yaw=(n-j.yaw)%360*.2,j.yaw=n,t=360*Math.atan(Math.tan(j.hfov/360*Math.PI)*o/t)/Math.PI,t=180*(Math.atan(e.y/o*2-1)-Math.atan(se/o*2-1))/Math.PI*t/90+ce,pe.pitch=.2*(t-j.pitch),j.pitch=t}}function m(e){ae&&(ae=!1,15<Date.now()-ie&&(pe.pitch=pe.yaw=0),Te.classList.add("pnlm-grab"),Te.classList.remove("pnlm-grabbing"),ie=Date.now(),Z("mouseup",e))}function p(e){if(K&&j.draggable){H(),X(),j.roll=0,pe.hfov=0;var t=h(e.targetTouches[0]);if(re=t.x,se=t.y,2==e.targetTouches.length){var o=h(e.targetTouches[1]);re+=.5*(o.x-t.x),se+=.5*(o.y-t.y),le=Math.sqrt((t.x-o.x)*(t.x-o.x)+(t.y-o.y)*(t.y-o.y))}ae=!0,ie=Date.now(),he=j.yaw,ce=j.pitch,Z("touchstart",e),L()}}function v(e){if(j.draggable&&(e.preventDefault(),K&&(ie=Date.now()),ae&&K)){var t=h(e.targetTouches[0]),o=t.x,n=t.y;2==e.targetTouches.length&&-1!=le&&(o+=.5*((e=h(e.targetTouches[1])).x-t.x),n+=.5*(e.y-t.y),t=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),z(j.hfov+.1*(le-t)),le=t),t=j.hfov/360,o=(re-o)*t+he,pe.yaw=(o-j.yaw)%360*.2,j.yaw=o,n=(n-se)*t+ce,pe.pitch=.2*(n-j.pitch),j.pitch=n}}function g(){ae=!1,150<Date.now()-ie&&(pe.pitch=pe.yaw=0),le=-1,ie=Date.now(),Z("touchend",event)}function w(e){"touch"==e.pointerType&&(Oe.push(e.pointerId),Fe.push({clientX:e.clientX,clientY:e.clientY}),e.targetTouches=Fe,p(e),e.preventDefault())}function y(e){if("touch"==e.pointerType)for(var t=0;t<Oe.length;t++)if(e.pointerId==Oe[t]){Fe[t].clientX=e.clientX,Fe[t].clientY=e.clientY,e.targetTouches=Fe,v(e),e.preventDefault();break}}function b(e){if("touch"==e.pointerType){for(var t=!1,n=0;n<Oe.length;n++)e.pointerId==Oe[n]&&(Oe[n]=o),Oe[n]&&(t=!0);t||(Oe=[],Fe=[],g()),e.preventDefault()}}function x(e){K&&("fullscreenonly"!=j.mouseZoom||de)&&(e.preventDefault(),H(),ie=Date.now(),e.wheelDeltaY?(z(j.hfov-.05*e.wheelDeltaY),pe.hfov=0>e.wheelDelta?1:-1):e.wheelDelta?(z(j.hfov-.05*e.wheelDelta),pe.hfov=0>e.wheelDelta?1:-1):e.detail&&(z(j.hfov+1.5*e.detail),pe.hfov=0<e.detail?1:-1),L())}function E(e){H(),ie=Date.now(),X(),j.roll=0;var t=e.which||e.keycode;0>_e.indexOf(t)||(e.preventDefault(),27==t?de&&O():R(t,!0))}function M(){for(var e=0;10>e;e++)ue[e]=!1}function P(e){var t=e.which||e.keycode;0>_e.indexOf(t)||(e.preventDefault(),R(t,!1))}function R(e,t){var o=!1;switch(e){case 109:case 189:case 17:case 173:ue[0]!=t&&(o=!0),ue[0]=t;break;case 107:case 187:case 16:case 61:ue[1]!=t&&(o=!0),ue[1]=t;break;case 38:ue[2]!=t&&(o=!0),ue[2]=t;break;case 87:ue[6]!=t&&(o=!0),ue[6]=t;break;case 40:ue[3]!=t&&(o=!0),ue[3]=t;break;case 83:ue[7]!=t&&(o=!0),ue[7]=t;break;case 37:ue[4]!=t&&(o=!0),ue[4]=t;break;case 65:ue[8]!=t&&(o=!0),ue[8]=t;break;case 39:ue[5]!=t&&(o=!0),ue[5]=t;break;case 68:ue[9]!=t&&(o=!0),ue[9]=t}o&&t&&($="undefined"!=typeof performance&&performance.now()?performance.now():Date.now(),L())}function _(e){var t=be[e],o=Math.min(1,Math.max((Date.now()-t.startTime)/1e3/(t.duration/1e3),0));o=t.startPosition+j.animationTimingFunction(o)*(t.endPosition-t.startPosition);if(t.endPosition>t.startPosition&&o>=t.endPosition||t.endPosition<t.startPosition&&o<=t.endPosition||t.endPosition===t.startPosition){o=t.endPosition,pe[e]=0;t=be[e].callback;var n=be[e].callbackArgs;delete be[e],"function"==typeof t&&t(n)}j[e]=o}function T(){F()}function L(){ve||(ve=!0,C())}function C(){if(function(){var e;if(K){180<j.yaw?j.yaw-=360:-180>j.yaw&&(j.yaw+=360),e=j.yaw;var t=j.maxYaw-j.minYaw,o=-180,n=180;360>t&&(o=j.minYaw+j.hfov/2,n=j.maxYaw-j.hfov/2,t<j.hfov&&(o=n=(o+n)/2)),j.yaw=Math.max(o,Math.min(n,j.yaw)),!1!==j.autoRotate&&e!=j.yaw&&(j.autoRotate*=-1),e=V.getCanvas(),e=2*Math.atan(Math.tan(j.hfov/180*Math.PI*.5)/(e.width/e.height))/Math.PI*180,t=j.minPitch+e/2,o=j.maxPitch-e/2,j.maxPitch-j.minPitch<e&&(t=o=(t+o)/2),isNaN(t)&&(t=-90),isNaN(o)&&(o=90),j.pitch=Math.max(t,Math.min(o,j.pitch)),V.render(j.pitch*Math.PI/180,j.yaw*Math.PI/180,j.hfov*Math.PI/180,{roll:j.roll*Math.PI/180}),j.hotSpots.forEach(D),j.compass&&(Ue.style.transform="rotate("+(-j.yaw-j.northOffset)+"deg)",Ue.style.webkitTransform="rotate("+(-j.yaw-j.northOffset)+"deg)")}}(),ee&&clearTimeout(ee),ae||!0===ge)requestAnimationFrame(C);else if(ue[0]||ue[1]||ue[2]||ue[3]||ue[4]||ue[5]||ue[6]||ue[7]||ue[8]||ue[9]||j.autoRotate||be.pitch||be.yaw||be.hfov||.01<Math.abs(pe.yaw)||.01<Math.abs(pe.pitch)||.01<Math.abs(pe.hfov))(function(){if(K){var e,t=!1,n=j.pitch,a=j.yaw,i=j.hfov;e="undefined"!=typeof performance&&performance.now()?performance.now():Date.now(),$===o&&($=e);var r=(e-$)*j.hfov/1700;if(r=Math.min(r,1),ue[0]&&!0===j.keyboardZoom&&(z(j.hfov+(.8*pe.hfov+.5)*r),t=!0),ue[1]&&!0===j.keyboardZoom&&(z(j.hfov+(.8*pe.hfov-.2)*r),t=!0),(ue[2]||ue[6])&&(j.pitch+=(.8*pe.pitch+.2)*r,t=!0),(ue[3]||ue[7])&&(j.pitch+=(.8*pe.pitch-.2)*r,t=!0),(ue[4]||ue[8])&&(j.yaw+=(.8*pe.yaw-.2)*r,t=!0),(ue[5]||ue[9])&&(j.yaw+=(.8*pe.yaw+.2)*r,t=!0),t&&(ie=Date.now()),Date.now(),j.autoRotate){if(.001<e-$){t=(e-$)/1e3;var s=(pe.yaw/t*r-.2*j.autoRotate)*t;s=(0<-j.autoRotate?1:-1)*Math.min(Math.abs(j.autoRotate*t),Math.abs(s)),j.yaw+=s}j.autoRotateStopDelay&&(j.autoRotateStopDelay-=e-$,0>=j.autoRotateStopDelay&&(j.autoRotateStopDelay=!1,ye=j.autoRotate,j.autoRotate=0))}be.pitch&&(_("pitch"),n=j.pitch),be.yaw&&(_("yaw"),a=j.yaw),be.hfov&&(_("hfov"),i=j.hfov),0<r&&!j.autoRotate&&(ue[4]||ue[5]||ue[8]||ue[9]||be.yaw||(j.yaw+=pe.yaw*r*.85),ue[2]||ue[3]||ue[6]||ue[7]||be.pitch||(j.pitch+=pe.pitch*r*.85),ue[0]||ue[1]||be.hfov||z(j.hfov+pe.hfov*r*.85)),$=e,0<r&&(pe.yaw=.8*pe.yaw+(j.yaw-a)/r*.2,pe.pitch=.8*pe.pitch+(j.pitch-n)/r*.2,pe.hfov=.8*pe.hfov+(j.hfov-i)/r*.2,n=j.autoRotate?Math.abs(j.autoRotate):5,pe.yaw=Math.min(n,Math.max(pe.yaw,-n)),pe.pitch=Math.min(n,Math.max(pe.pitch,-n)),pe.hfov=Math.min(n,Math.max(pe.hfov,-n))),ue[0]&&ue[0]&&(pe.hfov=0),(ue[2]||ue[6])&&(ue[3]||ue[7])&&(pe.pitch=0),(ue[4]||ue[8])&&(ue[5]||ue[9])&&(pe.yaw=0)}})(),0<=j.autoRotateInactivityDelay&&ye&&Date.now()-ie>j.autoRotateInactivityDelay&&!j.autoRotate&&(j.autoRotate=ye,ne.lookAt(oe,o,te,3e3)),requestAnimationFrame(C);else if(V&&(V.isLoading()||!0===j.dynamic&&Me))requestAnimationFrame(C);else{ve=!1,$=o;var e=j.autoRotateInactivityDelay-(Date.now()-ie);0<e?ee=setTimeout(function(){j.autoRotate=ye,ne.lookAt(oe,o,te,3e3),L()},e):0<=j.autoRotateInactivityDelay&&ye&&(j.autoRotate=ye,ne.lookAt(oe,o,te,3e3),L())}}function I(e,t,o,n){this.w=e,this.x=t,this.y=o,this.z=n}function A(t){var o;o=t.alpha;var n=t.beta;t=t.gamma,n=[n?n*Math.PI/180/2:0,t?t*Math.PI/180/2:0,o?o*Math.PI/180/2:0],o=[Math.cos(n[0]),Math.cos(n[1]),Math.cos(n[2])],n=[Math.sin(n[0]),Math.sin(n[1]),Math.sin(n[2])],o=(o=new I(o[0]*o[1]*o[2]-n[0]*n[1]*n[2],n[0]*o[1]*o[2]-o[0]*n[1]*n[2],o[0]*n[1]*o[2]+n[0]*o[1]*n[2],o[0]*o[1]*n[2]+n[0]*n[1]*o[2])).multiply(new I(Math.sqrt(.5),-Math.sqrt(.5),0,0)),n=e.orientation?-e.orientation*Math.PI/180/2:0,o=o.multiply(new I(Math.cos(n),0,-Math.sin(n),0)).toEulerAngles(),"number"==typeof ge&&10>ge?ge+=1:10===ge?(we=o[2]/Math.PI*180+j.yaw,ge=!0,requestAnimationFrame(C)):(j.pitch=o[0]/Math.PI*180,j.roll=-o[1]/Math.PI*180,j.yaw=-o[2]/Math.PI*180+we)}function k(){if(j.sceneFadeDuration&&V.fadeImg!==o){V.fadeImg.style.opacity=0;var e=V.fadeImg;delete V.fadeImg,setTimeout(function(){Le.removeChild(e),Z("scenechangefadedone")},j.sceneFadeDuration)}Ue.style.display=j.compass?"inline":"none",Pe||(j.hotSpots?(j.hotSpots=j.hotSpots.sort(function(e,t){return e.pitch<t.pitch}),j.hotSpots.forEach(S)):j.hotSpots=[],Pe=!0,j.hotSpots.forEach(D)),Ae.load.box.style.display="none",J!==o&&(Le.removeChild(J),J=o),K=!0,Z("load"),L()}function S(e){e.pitch=Number(e.pitch)||0,e.yaw=Number(e.yaw)||0;var o=t.createElement("div");o.className="pnlm-hotspot-base",o.className=e.cssClass?o.className+" "+e.cssClass:o.className+" pnlm-hotspot pnlm-sprite pnlm-"+q(e.type);var n,a=t.createElement("span");if(e.text&&(a.innerHTML=q(e.text)),e.video){n=t.createElement("video");var i=e.video;j.basePath&&!r(i)&&(i=j.basePath+i),n.src=encodeURI(i),n.controls=!0,n.style.width=e.width+"px",Le.appendChild(o),a.appendChild(n)}else if(e.image){i=e.image,j.basePath&&!r(i)&&(i=j.basePath+i),(n=t.createElement("a")).href=encodeURI(e.URL?e.URL:i),n.target="_blank",a.appendChild(n);var s=t.createElement("img");s.src=encodeURI(i),s.style.width=e.width+"px",s.style.paddingTop="5px",Le.appendChild(o),n.appendChild(s),a.style.maxWidth="initial"}else e.URL?((n=t.createElement("a")).href=encodeURI(e.URL),n.target="_blank",Le.appendChild(n),o.style.cursor="pointer",a.style.cursor="pointer",n.appendChild(o)):(e.sceneId&&(o.onclick=o.ontouchend=function(){return o.clicked||(o.clicked=!0,Y(e.sceneId,e.targetPitch,e.targetYaw,e.targetHfov)),!1},o.style.cursor="pointer",a.style.cursor="pointer"),Le.appendChild(o));e.createTooltipFunc?e.createTooltipFunc(o,e.createTooltipArgs):(e.text||e.video||e.image)&&(o.classList.add("pnlm-tooltip"),o.appendChild(a),a.style.width=a.scrollWidth-20+"px",a.style.marginLeft=-(a.scrollWidth-o.offsetWidth)/2+"px",a.style.marginTop=-a.scrollHeight-12+"px"),e.clickHandlerFunc&&(o.addEventListener("click",function(t){e.clickHandlerFunc(t,e.clickHandlerArgs)},"false"),o.style.cursor="pointer",a.style.cursor="pointer"),e.div=o}function D(e){var t=Math.sin(e.pitch*Math.PI/180),o=Math.cos(e.pitch*Math.PI/180),n=Math.sin(j.pitch*Math.PI/180),a=Math.cos(j.pitch*Math.PI/180),i=Math.cos((-e.yaw+j.yaw)*Math.PI/180),r=t*n+o*i*a;if(90>=e.yaw&&-90<e.yaw&&0>=r||(90<e.yaw||-90>=e.yaw)&&0>=r)e.div.style.visibility="hidden";else{var s=Math.sin((-e.yaw+j.yaw)*Math.PI/180),l=Math.tan(j.hfov*Math.PI/360);e.div.style.visibility="visible";var h=(c=V.getCanvas()).clientWidth,c=c.clientHeight;t=[-h/l*s*o/r/2,-h/l*(t*a-o*i*n)/r/2],o=Math.sin(j.roll*Math.PI/180),n=Math.cos(j.roll*Math.PI/180);(t=[t[0]*n-t[1]*o,t[0]*o+t[1]*n])[0]+=(h-e.div.offsetWidth)/2,t[1]+=(c-e.div.offsetHeight)/2,h="translate("+t[0]+"px, "+t[1]+"px) translateZ(9999px) rotate("+j.roll+"deg)",e.div.style.webkitTransform=h,e.div.style.MozTransform=h,e.div.style.transform=h}}function N(e){j={};var t,o,n="haov vaov vOffset northOffset horizonPitch horizonRoll".split(" ");for(t in Ee=[],Re)Re.hasOwnProperty(t)&&(j[t]=Re[t]);for(t in a.default)if(a.default.hasOwnProperty(t))if("strings"==t)for(o in a.default.strings)a.default.strings.hasOwnProperty(o)&&(j.strings[o]=q(a.default.strings[o]));else j[t]=a.default[t],0<=n.indexOf(t)&&Ee.push(t);if(null!==e&&""!==e&&a.scenes&&a.scenes[e]){var i=a.scenes[e];for(t in i)if(i.hasOwnProperty(t))if("strings"==t)for(o in i.strings)i.strings.hasOwnProperty(o)&&(j.strings[o]=q(i.strings[o]));else j[t]=i[t],0<=n.indexOf(t)&&Ee.push(t);j.scene=e}for(t in a)if(a.hasOwnProperty(t))if("strings"==t)for(o in a.strings)a.strings.hasOwnProperty(o)&&(j.strings[o]=q(a.strings[o]));else j[t]=a[t],0<=n.indexOf(t)&&Ee.push(t)}function U(e){if((e=e||!1)&&"preview"in j){var n=j.preview;j.basePath&&!r(n)&&(n=j.basePath+n),(J=t.createElement("div")).className="pnlm-preview-img",J.style.backgroundImage="url('"+encodeURI(n)+"')",Le.appendChild(J)}n=j.title;var a=j.author;for(var s in e&&("previewTitle"in j&&(j.title=j.previewTitle),"previewAuthor"in j&&(j.author=j.previewAuthor)),j.hasOwnProperty("title")||(Ae.title.innerHTML=""),j.hasOwnProperty("author")||(Ae.author.innerHTML=""),j.hasOwnProperty("title")||j.hasOwnProperty("author")||(Ae.container.style.display="none"),Se.load.innerHTML="<p>"+j.strings.loadButtonLabel+"</p>",Ae.load.boxp.innerHTML=j.strings.loadingLabel,j)if(j.hasOwnProperty(s))switch(s){case"title":Ae.title.innerHTML=q(j[s]),Ae.container.style.display="inline";break;case"author":Ae.author.innerHTML=j.strings.bylineLabel.replace("%s",q(j[s])),Ae.container.style.display="inline";break;case"fallback":Ae.errorMsg.innerHTML='<p>Your browser does not support WebGL.<br><a href="'+encodeURI(j[s])+'" target="_blank">Click here to view this panorama in an alternative viewer.</a></p>';break;case"hfov":z(Number(j[s]));break;case"autoLoad":!0===j[s]&&V===o&&(Ae.load.box.style.display="inline",Se.load.style.display="none",i());break;case"showZoomCtrl":Se.zoom.style.display=j[s]&&0!=j.showControls?"block":"none";break;case"showFullscreenCtrl":Se.fullscreen.style.display=j[s]&&0!=j.showControls&&("fullscreen"in t||"mozFullScreen"in t||"webkitIsFullScreen"in t||"msFullscreenElement"in t)?"block":"none";break;case"hotSpotDebug":ke.style.display=j[s]?"block":"none";break;case"showControls":j[s]||(Se.orientation.style.display="none",Se.zoom.style.display="none",Se.fullscreen.style.display="none");break;case"orientationOnByDefault":j[s]&&(De===o?Ne=!0:!0===De&&W())}e&&(n?j.title=n:delete j.title,a?j.author=a:delete j.author)}function O(){if(K&&!fe)if(de)t.exitFullscreen?t.exitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen();else try{n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.msRequestFullscreen?n.msRequestFullscreen():n.webkitRequestFullScreen()}catch(e){}}function F(){t.fullscreen||t.mozFullScreen||t.webkitIsFullScreen||t.msFullscreenElement?(Se.fullscreen.classList.add("pnlm-fullscreen-toggle-button-active"),de=!0):(Se.fullscreen.classList.remove("pnlm-fullscreen-toggle-button-active"),de=!1),V.resize(),z(j.hfov),L()}function B(e){var t=j.minHfov;return"multires"==j.type&&V&&(t=Math.min(t,V.getCanvas().width/(j.multiRes.cubeResolution/90*.9))),t>j.maxHfov?(console.log("HFOV bounds do not make sense (minHfov > maxHfov)."),j.hfov):e<t?t:e>j.maxHfov?j.maxHfov:e}function z(e){j.hfov=B(e)}function H(){be={},ye=j.autoRotate?j.autoRotate:ye,j.autoRotate=!1}function G(){fe&&(Ae.load.box.style.display="none",Ae.errorMsg.style.display="none",fe=!1,Z("errorcleared")),K=!1,Se.load.style.display="none",Ae.load.box.style.display="inline",i()}function Y(e,t,n,i,r){var s,l;if(K=!1,be={},j.sceneFadeDuration&&!r&&(s=V.render(j.pitch*Math.PI/180,j.yaw*Math.PI/180,j.hfov*Math.PI/180,{returnImage:!0}))!==o)return(r=new Image).className="pnlm-fade-img",r.style.transition="opacity "+j.sceneFadeDuration/1e3+"s",r.style.width="100%",r.style.height="100%",r.onload=function(){Y(e,t,n,i,!0)},r.src=s,Le.appendChild(r),void(V.fadeImg=r);r="same"===t?j.pitch:t,s="same"===n?j.yaw:"sameAzimuth"===n?j.yaw+(j.northOffset||0)-(a.scenes[e].northOffset||0):n,l="same"===i?j.hfov:i,function(){var e=j.hotSpots;if(Pe=!1,delete j.hotSpots,e)for(var t=0;t<e.length;t++){for(var o=e[t].div;o.parentNode!=Le;)o=o.parentNode;Le.removeChild(o),delete e[t].div}}(),N(e),pe.yaw=pe.pitch=pe.hfov=0,U(),r!==o&&(j.pitch=r),s!==o&&(j.yaw=s),l!==o&&(j.hfov=l),Z("scenechange",e),G()}function X(){e.removeEventListener("deviceorientation",A),Se.orientation.classList.remove("pnlm-orientation-button-active"),ge=!1}function W(){ge=1,e.addEventListener("deviceorientation",A),Se.orientation.classList.add("pnlm-orientation-button-active")}function q(e){return a.escapeHTML?String(e).split(/&/g).join("&amp;").split('"').join("&quot;").split("'").join("&#39;").split("<").join("&lt;").split(">").join("&gt;").split("/").join("&#x2f;").split("\n").join("<br>"):String(e).split("\n").join("<br>")}function Z(e){if(e in xe)for(var t=xe[e].length;0<t;t--)xe[e][xe[e].length-t].apply(null,[].slice.call(arguments,1))}var j,V,J,K,Q,$,ee,te,oe,ne=this,ae=!1,ie=Date.now(),re=0,se=0,le=-1,he=0,ce=0,ue=Array(10),de=!1,fe=!1,me=!1,pe={yaw:0,pitch:0,hfov:0},ve=!1,ge=!1,we=0,ye=0,be={},xe={},Ee=[],Me=!1,Pe=!1,Re={hfov:100,minHfov:50,maxHfov:120,pitch:0,minPitch:o,maxPitch:o,yaw:0,minYaw:-180,maxYaw:180,roll:0,haov:360,vaov:180,vOffset:0,autoRotate:!1,autoRotateInactivityDelay:-1,autoRotateStopDelay:o,type:"equirectangular",northOffset:0,showFullscreenCtrl:!0,dynamic:!1,doubleClickZoom:!0,keyboardZoom:!0,mouseZoom:!0,showZoomCtrl:!0,autoLoad:!1,showControls:!0,orientationOnByDefault:!1,hotSpotDebug:!1,backgroundColor:[0,0,0],animationTimingFunction:function(e){return.5>e?2*e*e:(4-2*e)*e-1},draggable:!0,disableKeyboardCtrl:!1,crossOrigin:"anonymous",strings:{loadButtonLabel:"Click to<br>Load<br>Panorama",loadingLabel:"Loading...",bylineLabel:"by %s",noPanoramaError:"No panorama image was specified.",fileAccessError:"The file %s could not be accessed.",malformedURLError:"There is something wrong with the panorama URL.",iOS8WebGLError:"Due to iOS 8's broken WebGL implementation, only progressive encoded JPEGs work for your device (this panorama uses standard encoding).",genericWebGLError:"Your browser does not have the necessary WebGL support to display this panorama.",textureSizeError:"This panorama is too big for your device! It's %spx wide, but your device only supports images up to %spx wide. Try another device. (If you're the author, try scaling down the image.)",unknownError:"Unknown error. Check developer console."}},_e=[16,17,27,37,38,39,40,61,65,68,83,87,107,109,173,187,189];(n="string"==typeof n?t.getElementById(n):n).classList.add("pnlm-container"),n.tabIndex=0;var Te=t.createElement("div");Te.className="pnlm-ui",n.appendChild(Te);var Le=t.createElement("div");Le.className="pnlm-render-container",n.appendChild(Le);var Ce=t.createElement("div");Ce.className="pnlm-dragfix",Te.appendChild(Ce);var Ie=t.createElement("span");Ie.className="pnlm-about-msg",Ie.innerHTML='<a href="https://pannellum.org/" target="_blank">Pannellum</a> 2.4.1',Te.appendChild(Ie),Ce.addEventListener("contextmenu",function e(t){var o=h(t);Ie.style.left=o.x+"px",Ie.style.top=o.y+"px",clearTimeout(e.t1),clearTimeout(e.t2),Ie.style.display="block",Ie.style.opacity=1,e.t1=setTimeout(function(){Ie.style.opacity=0},2e3),e.t2=setTimeout(function(){Ie.style.display="none"},2500),t.preventDefault()});var Ae={},ke=t.createElement("div");ke.className="pnlm-sprite pnlm-hot-spot-debug-indicator",Te.appendChild(ke),Ae.container=t.createElement("div"),Ae.container.className="pnlm-panorama-info",Ae.title=t.createElement("div"),Ae.title.className="pnlm-title-box",Ae.container.appendChild(Ae.title),Ae.author=t.createElement("div"),Ae.author.className="pnlm-author-box",Ae.container.appendChild(Ae.author),Te.appendChild(Ae.container),Ae.load={},Ae.load.box=t.createElement("div"),Ae.load.box.className="pnlm-load-box",Ae.load.boxp=t.createElement("p"),Ae.load.box.appendChild(Ae.load.boxp),Ae.load.lbox=t.createElement("div"),Ae.load.lbox.className="pnlm-lbox",Ae.load.lbox.innerHTML='<div class="pnlm-loading"></div>',Ae.load.box.appendChild(Ae.load.lbox),Ae.load.lbar=t.createElement("div"),Ae.load.lbar.className="pnlm-lbar",Ae.load.lbarFill=t.createElement("div"),Ae.load.lbarFill.className="pnlm-lbar-fill",Ae.load.lbar.appendChild(Ae.load.lbarFill),Ae.load.box.appendChild(Ae.load.lbar),Ae.load.msg=t.createElement("p"),Ae.load.msg.className="pnlm-lmsg",Ae.load.box.appendChild(Ae.load.msg),Te.appendChild(Ae.load.box),Ae.errorMsg=t.createElement("div"),Ae.errorMsg.className="pnlm-error-msg pnlm-info-box",Te.appendChild(Ae.errorMsg);var Se={};Se.container=t.createElement("div"),Se.container.className="pnlm-controls-container",Te.appendChild(Se.container),Se.load=t.createElement("div"),Se.load.className="pnlm-load-button",Se.load.addEventListener("click",function(){U(),G()}),Te.appendChild(Se.load),Se.zoom=t.createElement("div"),Se.zoom.className="pnlm-zoom-controls pnlm-controls",Se.zoomIn=t.createElement("div"),Se.zoomIn.className="pnlm-zoom-in pnlm-sprite pnlm-control",Se.zoomIn.addEventListener("click",function(){K&&(z(j.hfov-5),L())}),Se.zoom.appendChild(Se.zoomIn),Se.zoomOut=t.createElement("div"),Se.zoomOut.className="pnlm-zoom-out pnlm-sprite pnlm-control",Se.zoomOut.addEventListener("click",function(){K&&(z(j.hfov+5),L())}),Se.zoom.appendChild(Se.zoomOut),Se.container.appendChild(Se.zoom),Se.fullscreen=t.createElement("div"),Se.fullscreen.addEventListener("click",O),Se.fullscreen.className="pnlm-fullscreen-toggle-button pnlm-sprite pnlm-fullscreen-toggle-button-inactive pnlm-controls pnlm-control",(t.fullscreenEnabled||t.mozFullScreenEnabled||t.webkitFullscreenEnabled||t.msFullscreenEnabled)&&Se.container.appendChild(Se.fullscreen),Se.orientation=t.createElement("div"),Se.orientation.addEventListener("click",function(e){ge?X():W()}),Se.orientation.addEventListener("mousedown",function(e){e.stopPropagation()}),Se.orientation.addEventListener("touchstart",function(e){e.stopPropagation()}),Se.orientation.addEventListener("pointerdown",function(e){e.stopPropagation()}),Se.orientation.className="pnlm-orientation-button pnlm-orientation-button-inactive pnlm-sprite pnlm-controls pnlm-control";var De,Ne=!1;e.DeviceOrientationEvent?e.addEventListener("deviceorientation",function t(o){e.removeEventListener("deviceorientation",t),o&&null!==o.alpha&&null!==o.beta&&null!==o.gamma?(Se.container.appendChild(Se.orientation),De=!0,Ne&&W()):De=!1}):De=!1;var Ue=t.createElement("div");Ue.className="pnlm-compass pnlm-controls pnlm-control",Te.appendChild(Ue),a.firstScene?N(a.firstScene):a.default&&a.default.firstScene?N(a.default.firstScene):N(null),U(!0);var Oe=[],Fe=[];I.prototype.multiply=function(e){return new I(this.w*e.w-this.x*e.x-this.y*e.y-this.z*e.z,this.x*e.w+this.w*e.x+this.y*e.z-this.z*e.y,this.y*e.w+this.w*e.y+this.z*e.x-this.x*e.z,this.z*e.w+this.w*e.z+this.x*e.y-this.y*e.x)},I.prototype.toEulerAngles=function(){return[Math.atan2(2*(this.w*this.x+this.y*this.z),1-2*(this.x*this.x+this.y*this.y)),Math.asin(2*(this.w*this.y-this.z*this.x)),Math.atan2(2*(this.w*this.z+this.x*this.y),1-2*(this.y*this.y+this.z*this.z))]},this.isLoaded=function(){return Boolean(K)},this.getPitch=function(){return j.pitch},this.setPitch=function(e,t,n,a){return(t=t==o?1e3:Number(t))?be.pitch={startTime:Date.now(),startPosition:j.pitch,endPosition:e,duration:t,callback:n,callbackArgs:a}:j.pitch=e,L(),this},this.getPitchBounds=function(){return[j.minPitch,j.maxPitch]},this.setPitchBounds=function(e){return j.minPitch=Math.max(-90,Math.min(e[0],90)),j.maxPitch=Math.max(-90,Math.min(e[1],90)),this},this.getYaw=function(){return j.yaw},this.setYaw=function(e,t,n,a){return e=(e+180)%360-180,(t=t==o?1e3:Number(t))?(180<j.yaw-e?e+=360:180<e-j.yaw&&(e-=360),be.yaw={startTime:Date.now(),startPosition:j.yaw,endPosition:e,duration:t,callback:n,callbackArgs:a}):j.yaw=e,L(),this},this.getYawBounds=function(){return[j.minYaw,j.maxYaw]},this.setYawBounds=function(e){return j.minYaw=Math.max(-180,Math.min(e[0],180)),j.maxYaw=Math.max(-180,Math.min(e[1],180)),this},this.getHfov=function(){return j.hfov},this.setHfov=function(e,t,n,a){return(t=t==o?1e3:Number(t))?be.hfov={startTime:Date.now(),startPosition:j.hfov,endPosition:B(e),duration:t,callback:n,callbackArgs:a}:z(e),L(),this},this.getHfovBounds=function(){return[j.minHfov,j.maxHfov]},this.setHfovBounds=function(e){return j.minHfov=Math.max(0,e[0]),j.maxHfov=Math.max(0,e[1]),this},this.lookAt=function(e,t,n,a,i,r){return a=a==o?1e3:Number(a),e!==o&&(this.setPitch(e,a,i,r),i=o),t!==o&&(this.setYaw(t,a,i,r),i=o),n!==o&&this.setHfov(n,a,i,r),this},this.getNorthOffset=function(){return j.northOffset},this.setNorthOffset=function(e){return j.northOffset=Math.min(360,Math.max(0,e)),L(),this},this.getHorizonRoll=function(){return j.horizonRoll},this.setHorizonRoll=function(e){return j.horizonRoll=Math.min(90,Math.max(-90,e)),V.setPose(j.horizonPitch*Math.PI/180,j.horizonRoll*Math.PI/180),L(),this},this.getHorizonPitch=function(){return j.horizonPitch},this.setHorizonPitch=function(e){return j.horizonPitch=Math.min(90,Math.max(-90,e)),V.setPose(j.horizonPitch*Math.PI/180,j.horizonRoll*Math.PI/180),L(),this},this.startAutoRotate=function(e){return e=e||ye||1,j.autoRotate=e,ne.lookAt(oe,o,te,3e3),L(),this},this.stopAutoRotate=function(){return ye=j.autoRotate?j.autoRotate:ye,j.autoRotate=!1,j.autoRotateInactivityDelay=-1,this},this.getRenderer=function(){return V},this.setUpdate=function(e){return Me=!0===e,V===o?s():L(),this},this.mouseEventToCoords=function(e){return d(e)},this.loadScene=function(e,t,o,n){return!1!==K&&Y(e,t,o,n),this},this.getScene=function(){return j.scene},this.addScene=function(e,t){return a.scenes[e]=t,this},this.removeScene=function(e){return!(j.scene===e||!a.scenes.hasOwnProperty(e))&&(delete a.scenes[e],!0)},this.toggleFullscreen=function(){return O(),this},this.getConfig=function(){return j},this.getContainer=function(){return n},this.addHotSpot=function(e,t){if(t===o&&j.scene===o)j.hotSpots.push(e);else{var n=t!==o?t:j.scene;if(!a.scenes.hasOwnProperty(n))throw"Invalid scene ID!";a.scenes[n].hasOwnProperty("hotSpots")||(a.scenes[n].hotSpots=[],n==j.scene&&(j.hotSpots=a.scenes[n].hotSpots)),a.scenes[n].hotSpots.push(e)}return t!==o&&j.scene!=t||(S(e),K&&D(e)),this},this.removeHotSpot=function(e){if(!j.hotSpots)return!1;for(var t=0;t<j.hotSpots.length;t++)if(j.hotSpots[t].hasOwnProperty("id")&&j.hotSpots[t].id===e){for(e=j.hotSpots[t].div;e.parentNode!=Le;)e=e.parentNode;return Le.removeChild(e),delete j.hotSpots[t].div,j.hotSpots.splice(t,1),!0}return!1},this.resize=function(){F()},this.isLoaded=function(){return K},this.isOrientationSupported=function(){return De||!1},this.stopOrientation=function(){X()},this.startOrientation=function(){De&&W()},this.isOrientationActive=function(){return Boolean(ge)},this.on=function(e,t){return xe[e]=xe[e]||[],xe[e].push(t),this},this.off=function(e,t){if(!e)return xe={},this;if(t){var o=xe[e].indexOf(t);0<=o&&xe[e].splice(o,1),0==xe[e].length&&delete xe[e]}else delete xe[e];return this},this.destroy=function(){V&&V.destroy(),me&&(Ce.removeEventListener("mousedown",c,!1),Ce.removeEventListener("dblclick",u,!1),t.removeEventListener("mousemove",f,!1),t.removeEventListener("mouseup",m,!1),n.removeEventListener("mousewheel",x,!1),n.removeEventListener("DOMMouseScroll",x,!1),n.removeEventListener("mozfullscreenchange",F,!1),n.removeEventListener("webkitfullscreenchange",F,!1),n.removeEventListener("msfullscreenchange",F,!1),n.removeEventListener("fullscreenchange",F,!1),e.removeEventListener("resize",T,!1),e.removeEventListener("orientationchange",T,!1),n.removeEventListener("keydown",E,!1),n.removeEventListener("keyup",P,!1),n.removeEventListener("blur",M,!1),t.removeEventListener("mouseleave",m,!1),Ce.removeEventListener("touchstart",p,!1),Ce.removeEventListener("touchmove",v,!1),Ce.removeEventListener("touchend",g,!1),Ce.removeEventListener("pointerdown",w,!1),Ce.removeEventListener("pointermove",y,!1),Ce.removeEventListener("pointerup",b,!1),Ce.removeEventListener("pointerleave",b,!1)),n.innerHTML="",n.classList.remove("pnlm-container"),Te.classList.remove("pnlm-grab"),Te.classList.remove("pnlm-grabbing")}}return{viewer:function(e,t){return new n(e,t)}}}(window,document)}}]);